<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog Article</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="favicon_io/logo_project.png" type="image/x-icon">
    <script src="includeHTML.js"></script>
    <script src="blog_data.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const params = new URLSearchParams(window.location.search);
        const id = params.get('id') || '1';
        const article = window.BLOG_ARTICLES[id] || window.BLOG_ARTICLES['1'];
        document.getElementById('blog-article-title').textContent = article.title;
        document.getElementById('blog-article-date').textContent = article.date || '';
        document.getElementById('blog-article-body').innerHTML = article.content;
        // Populate Suggestions with three random posts (excluding current)
        const suggestionsUl = document.getElementById('suggestions-list');
        if (suggestionsUl) {
          const allIds = Object.keys(window.BLOG_ARTICLES).filter(k => k !== id);
          for (let i = allIds.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [allIds[i], allIds[j]] = [allIds[j], allIds[i]];
          }
          allIds.slice(0, 3).forEach(randId => {
            const li = document.createElement('li');
            const a = document.createElement('a');
            a.href = `blog_article.html?id=${randId}`;
            a.textContent = window.BLOG_ARTICLES[randId].title;
            li.appendChild(a);
            suggestionsUl.appendChild(li);
          });
        }
      });
    </script>
</head>
<body onload="includeHTML();">
    <div include-html="header.html"></div>
    <main id="blog-article">
        <div id="blog-layout">
            <article class="blog-article-container">
                <h1 id="blog-article-title"></h1>
                <p class="blog-article-meta">Published <time id="blog-article-date"></time></p>
                <section id="blog-article-body" class="blog-article-content"></section>
            </article>
            <aside id="blog-sidebar">
                <section>
                    <h2>read also...</h2>
                    <ul class="blog-sidebar-list" id="suggestions-list"></ul>
                </section>
                <section>
                    <h2>links</h2>
                    <ul class="blog-sidebar-list icon-row">
                        <li><button class="header-button" onclick="window.open('https://github.com/anvi-git', '_blank')"><img src="svg_images/github-icon.png" alt="GitHub" class="png-icon"></button></li>
                        <li><button class="header-button" onclick="window.open('https://www.linkedin.com/in/antonio-viscusi/', '_blank')"><img src="svg_images/linkedin-app-icon.png" alt="LinkedIn" class="png-icon"></button></li>
                        <li><button class="header-button" onclick="window.open('https://linktr.ee/anvi_tree', '_blank')"><img src="svg_images/linktree-logo-icon.png" alt="Linktree" class="png-icon"></button></li>
                        <li><button class="header-button" onclick="window.open('https://spaceofsound.substack.com', '_blank')"><img src="svg_images/substack-icon.png" alt="Substack" class="png-icon"></button></li>
                        <li><button class="header-button" onclick="window.open('https://lastscatteringsurface.substack.com', '_blank')"><img src="svg_images/substack-icon.png" alt="Substack" class="png-icon"></button></li>
                    </ul>
                </section>
            </aside>
        </div>
    </main>
    <div include-html="footer.html"></div>
</body>
</html>


